{% extends 'forum/topic/list.html' %}

{% load i18n humanize %}

{% block title %}
	{{ topic }}
{% endblock %}

{% block breadcrumbs %}
	{{ block.super }}
	<a href="{% url 'forum:topic_detail' category_slug=category.slug slug=topic.slug %}" class="breadcrumb-item" >
		<i class="fa fa-hashtag"></i>
		{{ topic }}
	</a>
{% endblock %}

{%  block page_title %}
	{{ topic }}
{% endblock %}

{% block content %}
	<a href="{% url 'forum:comment_add' category_slug=category.slug topic_slug=topic.slug %}" class="btn btn-success">
		<i class="fa fa-plus"></i>
		{% trans "New Comment" %}
	</a>

	<table class="table table-bordered table-hover text">
		<thead>
			<tr>
				<th>{% trans "User" %}</th>
				<th>{% trans "Comment" %}</th>
				<th>{% trans "Date" %}</th>
				<th>{% trans "Options" %}</th>
			</tr>
		</thead>

		<tbody>
			{% for comment in page_obj %}
				<tr>
					<td>{{ comment.user }}</td>
					<td>{{ comment.text }}</td>
					<td>{{ comment.date|naturaltime }}</td>
					<td class="text-xs-center">
						{% ifequal comment.user request.user  %}
						<a href="{% url 'forum:comment_update' category_slug=category.slug topic_slug=topic.slug pk=comment.pk %}" class="btn btn-primary btn-sm">
							<i class="fa fa-edit"></i>					
						</a>
						<a href="{% url 'forum:comment_delete' category_slug=category.slug topic_slug=topic.slug pk=comment.pk %}" class="btn btn-danger btn-sm">
							<i class="fa fa-remove"></i>
						</a>
						{% endifequal %}
					</td>
				</tr>
			{% empty %}
				<tr>
					<td class="text-xs-center">{% trans "No comment found!" %}</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>

	{% include "base/_paginate.html" %}
{% endblock %}